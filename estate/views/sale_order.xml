<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record model="ir.ui.view" id="sale_order_view_inherit">
            <field name="name">sale.order.view.inherit1</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='tax_id']" position="after">
                    <field name="training_date" widget="datetime"/>
                </xpath>

                <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='training_date']" position="after">
                    <field name="employe_id"/>
                </xpath>    

                <xpath  expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='employe_id']" position="after">
                    <field name="approval_level_required" widget="statinfo"/>
                    <field name="approval_state" widget="statusbar" statusbar_visible="pending,approved,refused"/>
                </xpath>

                <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='approval_state']" position="after">
                    <button name="approve_order" string="Approve" type="object"
                    class="oe_highlight"
                    attrs="{'invisible': [('approval_state', 'not in', ['pending'])]}"
                    groups="sales_team.group_sale_manager"/>
                </xpath>

                <xpath expr="/form/sheet/notebook/page" position="inside">
                    <button name="request_approval" type="object" string="Request Approval" class="btn-primary"/>
                </xpath>
                <xpath>
                </xpath>

                <xpath expr="/form/sheet/notebook/page" position="inside">
                    <button name="approve" string="Approve" type="object" class="oe_highlight"/>
                </xpath>

            
            </field>
        </record>
    </data>
</odoo>
